{"ast":null,"code":"import axios from 'axios';\nimport { history } from \"./history\";\nconst instance = axios.create({\n  baseURL: 'http://127.0.0.1:5000/',\n  withCredentials: true\n});\ninstance.interceptors.response.use(response => {\n  return response;\n}, error => {\n  if (error.response.status === 401) {\n    history.push('/');\n  }\n\n  return Promise.reject(error);\n});\nexport const setAuthHeaders = token => {\n  instance.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n};\nexport const API = instance;","map":{"version":3,"sources":["/Users/marcin/Desktop/flask-react-blog/frontend/src/services/api.js"],"names":["axios","history","instance","create","baseURL","withCredentials","interceptors","response","use","error","status","push","Promise","reject","setAuthHeaders","token","defaults","headers","common","API"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,WAAtB;AAEA,MAAMC,QAAQ,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC1BC,EAAAA,OAAO,EAAE,wBADiB;AAE1BC,EAAAA,eAAe,EAAE;AAFS,CAAb,CAAjB;AAKAH,QAAQ,CAACI,YAAT,CAAsBC,QAAtB,CAA+BC,GAA/B,CACKD,QAAD,IAAc;AACV,SAAOA,QAAP;AACH,CAHL,EAIKE,KAAD,IAAW;AACP,MAAGA,KAAK,CAACF,QAAN,CAAeG,MAAf,KAA0B,GAA7B,EAAiC;AAC7BT,IAAAA,OAAO,CAACU,IAAR,CAAa,GAAb;AACH;;AACD,SAAOC,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACH,CATL;AAWA,OAAO,MAAMK,cAAc,GAAIC,KAAD,IAAW;AACrCb,EAAAA,QAAQ,CAACc,QAAT,CAAkBC,OAAlB,CAA0BC,MAA1B,CAAiC,eAAjC,IAAoD,YAAYH,KAAhE;AACH,CAFM;AAIP,OAAO,MAAMI,GAAG,GAAGjB,QAAZ","sourcesContent":["import axios from 'axios'\nimport {history} from \"./history\";\n\nconst instance = axios.create({\n    baseURL: 'http://127.0.0.1:5000/',\n    withCredentials: true,\n});\n\ninstance.interceptors.response.use(\n    (response) => {\n        return response;\n    },\n    (error) => {\n        if(error.response.status === 401){\n            history.push('/')\n        }\n        return Promise.reject(error);\n    });\n\nexport const setAuthHeaders = (token) => {\n    instance.defaults.headers.common['Authorization'] = 'Bearer ' + token\n};\n\nexport const API = instance;"]},"metadata":{},"sourceType":"module"}